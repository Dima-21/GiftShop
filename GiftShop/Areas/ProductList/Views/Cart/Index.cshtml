@using GiftShop.Areas.ProductList.Models
@model ShopCartViewModel


<div class="container">
    <h1>Корзина</h1>
    <hr />

    @if (Model?.Cart != null)
    {
        <table class="table table-hover ">
            <thead class="thead-light">
                <tr class="text-center">
                    <th>
                        @Html.DisplayNameFor(model => model.Cart.FirstOrDefault().Goods.GoodsImage)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Cart.FirstOrDefault().Goods.Code)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Cart.FirstOrDefault().Goods.Price)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Cart.FirstOrDefault().Goods.Name)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Cart.FirstOrDefault().Amount)
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.Cart.FirstOrDefault().Sum)
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Cart)
                {
                    <tr class="text-center">
                        <td hidden class="goods-id">@item.Goods.Id</td>
                        <td class="align-middle">
                            <img src="~/goods_image/@Url.Content(item.Goods.GoodsImage?.FirstOrDefault()?.Name)" height="40" />
                        </td>
                        <td class="align-middle">
                            @Html.DisplayFor(modelItem => item.Goods.Code)
                        </td>
                        <td class="align-middle">
                            @Html.DisplayFor(modelItem => item.Goods.Price)
                        </td>
                        <td class="align-middle">
                            @Html.DisplayFor(modelItem => item.Goods.Name)
                        </td>
                        <td class="align-middle">
                            @Html.DisplayFor(modelItem => item.Amount)
                        </td>
                        <td class="align-middle">
                            @Html.DisplayFor(modelItem => item.Sum)
                        </td>
                        <td class="align-middle">
                            <a asp-action="Remove" asp-controller="Cart" asp-route-area="ProductList" asp-route-goodsId="@item.Goods.Id" class="btn"><img src="~/images/icons/delete.png" /></a>

                        </td>
                    </tr>
                }
            </tbody>
        </table>

        @Html.ActionLink("Оформить заказ", "Checkout", null, new { cart = Model.Cart }, new { @class = "btn btn-primary" })
    }

</div>